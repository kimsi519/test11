<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Edit</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
      let originalTitle = "";
      let originalDescription = "";

      // URL에서 전달된 쿼리 파라미터를 가져옴
      function getQueryParams() {
        const params = new URLSearchParams(window.location.search);
        return {
          title: params.get("title") || "",
          description: params.get("description") || "",
        };
      }

      // 입력 필드에 제목과 설명 값 설정
      function setInputValues(title, description) {
        document.getElementById("title-input").value = title;
        document.getElementById("description-input").value = description;
      }

      // 쿼리 파라미터 값 가져오기
      document.addEventListener("DOMContentLoaded", () => {
        const params = getQueryParams();
        originalTitle = params.title;
        originalDescription = params.description;
        setInputValues(originalTitle, originalDescription);
      });

      // 입력 필드를 원래 값으로 되돌리기
      function resetToOriginal() {
        setInputValues(originalTitle, originalDescription);
      }

      // 입력 필드의 변경된 제목과 설명을 URL로 전달/페이지 이동
      function saveChanges() {
        const title = document.getElementById("title-input").value;
        const description = document.getElementById("description-input").value;
        window.location.href = `index.html?title=${encodeURIComponent(title)}&description=${encodeURIComponent(
          description
        )}`;
      }
    </script>
  </head>

  <body class="flex flex-col h-screen">
    <!-- 헤더 섹션 -->
    <header class="bg-white text-green-500 shadow-md">
      <div class="w-full flex justify-between items-center py-4 px-6">
        <!-- 로고 및 제목 -->
        <a href="book-edit.html" class="flex items-center space-x-2 ml-4 bg-gray-100 p-2 rounded">
          <img src="assets/하나.png" alt="Logo" class="w-8 h-8" />
          <span class="text-2xl font-bold">BookMark</span>
        </a>

        <!-- Github, 회원가입, 로그인 -->
        <div class="flex space-x-4">
          <a
            href="https://github.com/DongExxn/hanabank-assignment1"
            target="_self"
            class="bg-slate-600 hover:bg-slate-400 text-white font-semibold py-2 px-4 rounded"
          >
            Github Repo.
          </a>
          <button class="text-black font-semibold py-2 px-4 rounded">
            <a href="register.html">Sign Up</a>
          </button>
          <span class="text-black font-semibold py-2 px-4">|</span>
          <button class="text-black font-semibold py-2 px-4 rounded">Login</button>
        </div>
      </div>
    </header>

    <!-- 메인 영역 -->
    <main class="flex-grow container ml-2 py-6 px-6 h-screen flex">
      <div class="w-1/3 bg-gray-200 p-6 rounded-lg shadow-md h-full flex flex-col justify-start space-y-4">
        <!-- URL 입력 필드 -->
        <input
          id="title-input"
          type="text"
          class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-3 px-4"
          placeholder="URL 입력"
        />

        <!-- 설명 입력 필드 -->
        <textarea
          id="description-input"
          class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-3 px-4"
          placeholder="설명 입력"
          style="height: 150px; resize: vertical"
        ></textarea>

        <!-- 체크박스 -->
        <div class="flex items-center">
          <input id="check" type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
          <label for="check" class="ml-2 block text-sm font-medium text-gray-700">이동 시 자동 삭제</label>
        </div>

        <div class="flex justify-end space-x-4 p-2">
          <!-- 되돌리기 버튼 -->
          <a href="#" class="block" onclick="resetToOriginal(); return false;">
            <img src="assets/되돌리기.png" alt="Undo" class="w-10 h-10 bg-white rounded-xl" />
          </a>

          <!-- 저장 버튼 -->
          <a href="#" class="block" onclick="saveChanges(); return false;">
            <img src="assets/저장.png" alt="Save" class="w-10 h-10 bg-white rounded-xl" />
          </a>
        </div>

        <div class="w-full text-center text-gray-500 mt-2">There is no marks</div>
      </div>
    </main>

    <!-- 푸터 섹션 -->
    <footer class="bg-gray-800 text-white py-4 mt-auto">
      <div class="container mx-auto text-center">@Hanaro 2024</div>
    </footer>
  </body>
</html>
